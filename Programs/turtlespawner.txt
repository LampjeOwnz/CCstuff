rednet.open("right")
local func

function fueler()
	if turtle.getFuelLevel() < 400  then
		turtle.select(16)
		turtle.refuel()
	end
end

fueler()

function netherbook()
	turtle.select(1)
	turtle.drop()
end

function theendbook()
	turtle.select(2)
	turtle.drop()
end

function twilightbook()
	turtle.select(3)
	turtle.drop()
end

function densbook()
	turtle.select(4)
	turtle.drop()
end

function quartzbook()
	turtle.select(5)
	turtle.drop()
end

function villagebook()
	turtle.select(6)
	turtle.drop()
end

function glowbook()
	turtle.select(7)
	turtle.drop()
end

function mback()
	turtle.back()
end

function mforward()
	turtle.forward()
end

while true do
   local id,msg,dist = rednet.receive()
   func = loadstring(msg.."(...)")
   setfenv(func, getfenv())
   func(id)
   rednet.send(id,"Done")
end